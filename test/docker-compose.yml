version: "3"
services:
  test_link:
    image: robot-archlinux
    volumes:
      # Robot Libraries:
      - ./lib/test.resource:/test/lib/test.resource:ro
      - ../source/LinkDotfiles.py:/test/lib/LinkDotfiles.py:ro
      - ../source/DeployDotfiles.resource:/test/lib/DeployDotfiles.resource:ro
      # Test Output:
      - ./results:/test/results
      # Test files:
      - ./resources:/test/resources:ro
    # The --outputdir flag does not appear to work,
    # so manually move to the location output files should be placed.
    working_dir: /test/results
    command: robot --pythonpath /test/lib /test/resources
